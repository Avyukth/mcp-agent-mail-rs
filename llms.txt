# MCP Agent Mail (Rust)

> A high-performance Rust implementation of "Gmail for coding agents" - an MCP-compliant mail server enabling async communication between AI coding agents. Translating the Python `mcp_agent_mail` using Depyler transpilation + manual refinement, with a SvelteKit frontend. Built on Axum, libsql, and git2.

This project implements the Model Context Protocol (MCP) to provide agent-to-agent messaging, file reservation leases, contact management, and searchable message archives. The Rust rewrite prioritizes memory safety, performance, and idiomatic patterns while maintaining full feature parity with the Python original (46 MCP tools).

**Current Status**: Backend Core & API stable. Phase 2 (SvelteKit frontend) is the immediate next step.

**Tech Stack**: Rust (Axum 0.6, libsql, git2, tokio, thiserror) + SvelteKit + TailwindCSS + Bun

## Architecture

- [SUMMARY.md](/SUMMARY.md): Project overview, achievements, and roadmap with pivot decisions
- [Architecture Overview](/docs/architecture.md): System design, crate structure, and data flow
- [BMC Pattern Guide](/docs/bmc-pattern.md): Backend Model Controller implementation details

## Core Crates

- [lib-core](/crates/libs/lib-core/): Domain models, BMC logic, database/git storage abstraction
- [mcp-server](/crates/services/mcp-server/): Axum web server with REST API endpoints
- [mcp-cli](/crates/services/mcp-cli/): Command-line interface for testing and operations

## API Reference

- [REST Endpoints](/docs/api-endpoints.md): POST /api/project/ensure, /api/agent/register, /api/message/send, /api/inbox, GET /api/projects, /api/health
- [MCP Tools Spec](/docs/mcp-tools.md): All 46 MCP tools to be implemented (messaging, file reservations, contacts, search)

## Database & Storage

- [Schema Migration](/migrations/001_initial_schema.sql): SQLite/libsql schema with FTS5 full-text search
- [Git Storage Pattern](/docs/git-storage.md): Mailbox structure, message files, agent profiles

## Planning & Tasks

- [Project Plan](/docs/PROJECT_PLAN.md): Comprehensive phase breakdown with beads-style task tracking
- [Beads Issues](/.beads/issues.jsonl): Live issue tracker for work items and dependencies

## Reference Materials

- [Python Original](https://github.com/Dicklesworthstone/mcp_agent_mail): Source implementation being translated
- [Depyler Transpiler](https://github.com/paiml/depyler): Python-to-Rust transpilation tool used for acceleration

## Optional

- [Development Diary](/docs/dev-diary.md): Session notes and decision rationale
- [Test Coverage Report](/docs/test-coverage.md): Unit and integration test status

# =============================================================================
# MCP Agent Mail - Environment Variables
# =============================================================================
# Copy this file to .env and configure for your environment.
# All variables are optional with sensible defaults.

# =============================================================================
# HTTP SERVER
# =============================================================================

# Host to bind the HTTP server (default: 127.0.0.1)
HTTP_HOST=127.0.0.1

# Port for HTTP server (default: 8765)
PORT=8765

# Log format: "json" for structured logging, any other value for pretty (default: pretty)
LOG_FORMAT=pretty

# Rust log level filter (default: info)
# Examples: debug, info, warn, error, mcp_server=debug
RUST_LOG=info

# =============================================================================
# AUTHENTICATION (Future - Not Yet Implemented)
# =============================================================================

# Authentication mode: bearer, jwt, or none (default: none)
# HTTP_AUTH_MODE=none

# Static bearer token for authentication (hex string)
# Generate with: openssl rand -hex 32
# HTTP_BEARER_TOKEN=

# JWKS URL for JWT validation (required when HTTP_AUTH_MODE=jwt)
# HTTP_JWKS_URL=

# Allow unauthenticated requests from localhost (default: true)
# HTTP_ALLOW_LOCALHOST_UNAUTHENTICATED=true

# CORS allowed origins (comma-separated, default: http://localhost:4090)
# CORS_ALLOWED_ORIGINS=http://localhost:4090,http://127.0.0.1:4090

# =============================================================================
# DATABASE
# =============================================================================

# SQLite database path (default: ./data/mcp_agent_mail.db)
# The directory will be created automatically.
SQLITE_PATH=./data/mcp_agent_mail.db

# =============================================================================
# GIT ARCHIVE
# =============================================================================

# Git repository path for message archival (default: ./data/archive)
# Messages are archived as markdown files in a Git repository structure.
GIT_REPO_PATH=./data/archive

# Enable Git archival (default: false)
# GIT_ARCHIVE_ENABLED=false

# Git author name for commits (default: MCP Agent Mail)
# GIT_AUTHOR_NAME=MCP Agent Mail

# Git author email for commits (default: mail@agents.local)
# GIT_AUTHOR_EMAIL=mail@agents.local

# =============================================================================
# LLM INTEGRATION (Optional)
# =============================================================================

# Enable LLM features (thread summarization, etc.) (default: false)
LLM_ENABLED=false

# OpenAI API key for LLM features (required if LLM_ENABLED=true)
# OPENAI_API_KEY=

# OpenAI model for summarization (default: gpt-4o-mini)
# OPENAI_MODEL=gpt-4o-mini

# OpenAI API base URL (optional, for custom endpoints)
# OPENAI_API_BASE=https://api.openai.com/v1

# Anthropic API key (alternative to OpenAI)
# ANTHROPIC_API_KEY=

# Anthropic model (default: claude-3-haiku-20240307)
# ANTHROPIC_MODEL=claude-3-haiku-20240307

# =============================================================================
# FILE RESERVATIONS
# =============================================================================

# Default TTL for file reservations in seconds (default: 3600)
# FILE_RESERVATION_DEFAULT_TTL=3600

# Maximum TTL for file reservations in seconds (default: 86400)
# FILE_RESERVATION_MAX_TTL=86400

# =============================================================================
# BUILD SLOTS
# =============================================================================

# Default TTL for build slots in seconds (default: 1800)
# BUILD_SLOT_DEFAULT_TTL=1800

# Maximum concurrent build slots per project (default: 3)
# BUILD_SLOT_MAX_PER_PROJECT=3

# =============================================================================
# CONTACTS & AGENTS
# =============================================================================

# Default contact policy for new agents: open, auto, contacts_only, block_all
# AGENT_DEFAULT_CONTACT_POLICY=contacts_only

# Allow cross-project messaging (default: true)
# ALLOW_CROSS_PROJECT_MESSAGING=true

# =============================================================================
# WEB UI (Leptos)
# =============================================================================

# Trunk dev server port (used during development only)
# TRUNK_PORT=4090

# API URL for the web UI to connect to (default: http://localhost:8765)
# API_URL=http://localhost:8765

# =============================================================================
# MCP STDIO MODE
# =============================================================================

# Environment variables for STDIO mode (used by integration scripts)
# These override defaults when running in STDIO mode.

# MCP_AGENT_MAIL_PORT=8765
# MCP_AGENT_MAIL_HOST=127.0.0.1

# =============================================================================
# TESTING
# =============================================================================

# Test configuration for E2E tests
# TEST_WEB_UI_URL=http://localhost:4090
# TEST_API_URL=http://localhost:8765
# TEST_HEADLESS=true
# TEST_TIMEOUT_MS=30000

# =============================================================================
# DEVELOPMENT
# =============================================================================

# Enable development mode (relaxed security, verbose logging)
# DEV_MODE=false

# Disable telemetry (default: true - telemetry is disabled)
# DISABLE_TELEMETRY=true
